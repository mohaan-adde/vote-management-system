{% extends "base.html" %}

{% block title %}Register | GSU Voting{% endblock %}

{% block content %}
<div
  class="max-w-md mx-auto bg-white dark-mode:bg-gray-800 p-5 md:p-7 rounded-2xl shadow-xl transition-colors duration-500">
  <a href="{{ url_for('home') }}"
    class="inline-flex items-center text-xs text-gray-500 dark-mode:text-gray-300 hover:text-indigo-600 dark-mode:hover:text-indigo-400 mb-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 mr-1" fill="none" viewBox="0 0 24 24"
      stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
    <span>Back</span>
  </a>

  <div class="text-center mb-4">
    <h2 class="text-xl md:text-2xl font-bold text-slate-900 dark-mode:text-white mb-1">Create Account</h2>
    <p class="text-xs text-gray-500 dark-mode:text-gray-400">Fill in your details to register</p>
  </div>

  <form method="POST" action="/register" class="space-y-3">
    <!-- University ID -->
    <div>
      <label for="university_id" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">
        University ID
      </label>
      <input type="text" id="university_id" name="university_id"
        class="w-full border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 dark-mode:bg-gray-100 dark-mode:text-black"
        required>
    </div>

    <!-- Full Name -->
    <div>
      <label for="full_name" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">Full
        Name</label>
      <input type="text" id="full_name" name="full_name"
        class="w-full border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 dark-mode:bg-gray-100 dark-mode:text-black"
        required>
    </div>

    <!-- Username -->
    <div>
      <label for="username" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">Username</label>
      <input type="text" id="username" name="username"
        class="w-full border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 dark-mode:bg-gray-100 dark-mode:text-black"
        required>
    </div>

    <!-- Phone Number -->
    <div>
      <label for="phone" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">Phone</label>
      <input type="tel" id="phone" name="phone"
        class="w-full border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 dark-mode:bg-gray-100 dark-mode:text-black"
        required>
    </div>

    <!-- Faculty -->
    <div>
      <label for="faculty" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">
        Faculty
      </label>
      <select id="faculty" name="faculty"
        class="w-full border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm dark-mode:bg-gray-100 dark-mode:text-black"
        required>
        <option value="Computer Science">Computer Science</option>
        <option value="Health Science">Health Science</option>
        <option value="Medicine">Medicine</option>
        <option value="Business Administration">Business Administration</option>
      </select>
    </div>

    <!-- Semester -->
    <div>
      <label for="semester" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">
        Semester
      </label>
      <select id="semester" name="semester"
        class="w-full border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm dark-mode:bg-gray-100 dark-mode:text-black"
        required>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
      </select>
    </div>

    <!-- Email -->
    <div>
      <label for="email" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">Email</label>
      <input type="email" id="email" name="email"
        class="w-full border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 dark-mode:bg-gray-100 dark-mode:text-black"
        required>
    </div>

    <!-- Password -->
    <div class="relative">
      <label for="password" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">Password</label>
      <div class="relative">
        <input type="password" id="password" name="password"
          class="w-full pr-10 border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 dark-mode:bg-gray-100 dark-mode:text-black"
          required>
        <button type="button" id="togglePassword" class="absolute top-1/2 right-3 -translate-y-1/2 password-toggle">
          <svg id="eyeOpen1" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
          </svg>
          <svg id="eyeClosed1" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 hidden" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.269-2.943-9.543-7a9.956 9.956 0 012.223-3.383M6.1 6.1A9.953 9.953 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.956 9.956 0 01-1.57 3.043M3 3l18 18" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Confirm Password -->
    <div class="relative">
      <label for="confirm_password" class="block text-xs font-medium text-gray-700 dark-mode:text-white mb-1">Confirm
        Password</label>
      <div class="relative">
        <input type="password" id="confirm_password" name="confirm_password"
          class="w-full pr-10 border border-gray-300 dark-mode:border-gray-600 rounded-lg px-3 py-2 text-sm focus:ring-indigo-500 focus:border-indigo-500 dark-mode:bg-gray-100 dark-mode:text-black"
          required>
        <button type="button" id="toggleConfirm" class="absolute top-1/2 right-3 -translate-y-1/2 password-toggle">
          <svg id="eyeOpen2" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
          </svg>
          <svg id="eyeClosed2" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 hidden" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.269-2.943-9.543-7a9.956 9.956 0 012.223-3.383M6.1 6.1A9.953 9.953 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.956 9.956 0 01-1.57 3.043M3 3l18 18" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Terms -->
    <div class="flex items-start gap-3 text-sm text-gray-600 dark-mode:text-gray-300">
      <input id="accept_terms" name="accept_terms" type="checkbox"
        class="mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" required>
      <label for="accept_terms">
        I accept the
        <a href="/terms" class="text-blue-600 dark-mode:text-blue-400 hover:underline">Terms &amp; Conditions</a>.
        By creating an account, you agree to our terms and privacy policy.
      </label>
    </div>

    <!-- Submit -->
    <button type="submit"
      class="w-full py-3 px-4 bg-indigo-600 text-white font-semibold rounded-xl shadow-md hover:bg-indigo-700 dark-mode:bg-indigo-500 dark-mode:hover:bg-indigo-600 transition duration-200 flex items-center justify-center gap-2">
      <span>Create account</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7" />
      </svg>
    </button>
  </form>

  <div class="text-center text-sm text-gray-500 dark-mode:text-gray-300 mt-6">
    <p>Already have an account?
      <a href="/login" class="text-indigo-600 dark-mode:text-indigo-400 hover:underline">Sign in</a>
    </p>
  </div>
</div>

<!-- Show/Hide Password Script -->
<script>
  function toggleVisibility(inputId, eyeOpenId, eyeClosedId) {
    const input = document.getElementById(inputId);
    const eyeOpen = document.getElementById(eyeOpenId);
    const eyeClosed = document.getElementById(eyeClosedId);

    if (input.type === "password") {
      input.type = "text";
      eyeOpen.classList.add("hidden");
      eyeClosed.classList.remove("hidden");
    } else {
      input.type = "password";
      eyeOpen.classList.remove("hidden");
      eyeClosed.classList.add("hidden");
    }
  }

  document.getElementById("togglePassword").addEventListener("click", () => {
    toggleVisibility("password", "eyeOpen1", "eyeClosed1");
  });

  document.getElementById("toggleConfirmPassword").addEventListener("click", () => {
    toggleVisibility("confirm_password", "eyeOpen2", "eyeClosed2");
  });
</script>
{% endblock %}
